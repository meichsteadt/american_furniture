<div class="container">
  <div class="row">
    <div class="box">
      <div class="col-lg-12">
        <h2 class="intro-text text-center">
          <% if Product.all.length > 1 %>
            <%= link_to(product_path(Product.find(@product.get_prev))) do %><span class="glyphicon glyphicon-chevron-left"></span><% end %>
          <% end %>
          <p style="display: inline;"><%= @product.category %></p>
          <% if Product.all.length > 1 %>
            <%= link_to(product_path(Product.find(@product.get_next))) do %><span class="glyphicon glyphicon-chevron-right"></span><% end %>
          <% end %>
        </h2>
        <hr>
      </div>
        <div class="col-md-6">
          <% if @product.images && @product.images.length > 1 %>
          <div id="product-carousel" class="carousel slide" style="margin-top: 20px">
            <!-- Indicators -->
            <ol class="carousel-indicators hidden-xs">
              <% @product.images.each_with_index do |image, index| %>
                <li data-target="#carousel-example-generic" data-slide-to="<%= index %>" <% if index == 0 %> class="active" <% end %>></li>
              <% end %>
            </ol>
            <!-- Wrapper for slides -->
            <div class="carousel-inner">
              <% @product.images.each_with_index do |image, index| %>
                <% if index == 0 %>
                <div class="item active">
                  <img class="" src="<%= image %>" alt="">
                </div>
                <% else %>
                <div class="item">
                  <img class="" src="<%= image %>" alt="">
                </div>
                <% end %>
              <% end %>
            </div>
            <a class="left carousel-control" href="#product-carousel" data-slide="prev">
              <span class="icon-prev"></span>
            </a>
            <a class="right carousel-control" href="#product-carousel" data-slide="next">
              <span class="icon-next"></span>
            </a>
          </div>
        <% else %>
        <img id="productImage" class="img-responsive product-img shadow" src="<%= @product.image %>">
        <% end %>
        </div>
        </div>
        <div class="col-md-6 text-center">
          <h2><%= @product.name %></h2>
          <p><%= @product.description %></p>
          <!-- <div class="price">
            <h1><%= number_to_currency(@product.price, precision: 0) %></h1>
            <% if @product.sale %>
            <h3 class="sale">$349</h3>
            <% end %>
          </div> -->
        </div>
        <div class="clearfix"></div>
    </div>
    <% if Product.all.length > 1 %>
      <div class="box alsoView">
        <h3 class="text-center">People also viewed</h3>
        <% if Product.all.length > 3 %>
          <div class="col-sm-3">
            <%= link_to(product_path(Product.find(@product.get_prev))) do %>
              <% image_tag Product.find(@product.get_prev).image, class: 'img-responsive' %>
            <% end %>
          </div>
        <% end %>
        <% if Product.all.length > 1 %>
          <div class="col-sm-3">
            <%= link_to(product_path(Product.find(@product.get_next))) do %>
              <% image_tag Product.find(@product.get_next).image, class: 'img-responsive' %>
            <% end %>
          </div>
        <% end %>
        <% if Product.all.length > 2 %>
          <div class="col-sm-3">
            <%= link_to(product_path(Product.find(@product.get_nexter))) do %>
              <% image_tag Product.find(@product.get_nexter).image, class: 'img-responsive' %>
            <% end %>
          </div>
        <% end %>
        <% if Product.all.length > 3 %>
          <div class="col-sm-3">
            <%= link_to(product_path(Product.find(@product.get_nextest))) do %>
              <% image_tag Product.find(@product.get_nextest).image, class: 'img-responsive' %>
            <% end %>
          </div>
        <% end %>
        <div class="clearfix"></div>
      </div>
    <% end %>
  </div>
</div>

<script>
$('.carousel').carousel({
    interval: 000 //changes the speed
})
</script>
